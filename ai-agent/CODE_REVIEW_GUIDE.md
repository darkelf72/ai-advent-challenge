# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è Code Review - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ code review –¥–ª—è Pull Requests —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI Agent, RAG –∏ GitHub MCP Server.

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. GitHub MCP Server (`github-mcp-server/`)
–ù–æ–≤—ã–π MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å GitHub API, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 4 tools:

- **github_get_pr** - –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ PR (title, –∞–≤—Ç–æ—Ä, –æ–ø–∏—Å–∞–Ω–∏–µ, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É)
- **github_get_pr_files** - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- **github_get_pr_diff** - –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π diff –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **github_post_comment** - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ PR

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ AI Agent
- –î–æ–±–∞–≤–ª–µ–Ω `githubMcpClient` –≤ DI (AppModule.kt)
- –†–∞—Å—à–∏—Ä–µ–Ω `McpClientManager` –º–µ—Ç–æ–¥–æ–º `getGithubClient()`
- –û–±–Ω–æ–≤–ª–µ–Ω `McpToolsService` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å GitHub tools

### 3. –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è Code Review –∑–∞–ø—Ä–æ—Å–æ–≤
–í `BaseApiClient` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –≤–∏–¥–∞: "–°–¥–µ–ª–∞–π —Ä–µ–≤—å—é https://github.com/owner/repo/pull/123"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è code review
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç RAG –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

### 4. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Code Review
–§–∞–π–ª `ai-agent/src/main/resources/code-review-prompt.txt` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è LLM:
- –ö–∞–∫–∏–µ MCP tools –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã (–ø–æ–ª—É—á–∏—Ç—å PR ‚Üí –ø–æ–ª—É—á–∏—Ç—å diff ‚Üí –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å ‚Üí –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å)
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∞–Ω–∞–ª–∏–∑–∞ (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞)
- –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ —Ä–µ–≤—å—é –≤ Markdown

### 5. RAG Integration
RAG –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –¥–ª—è code review –∑–∞–ø—Ä–æ—Å–æ–≤:
- –ò—â–µ—Ç coding guidelines –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- –ù–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ README.md –∏ claude.md

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —á–∞—Ç–µ: "–°–¥–µ–ª–∞–π —Ä–µ–≤—å—é https://github.com/owner/repo/pull/123"
         ‚Üì
[BaseApiClient —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç code review –∑–∞–ø—Ä–æ—Å]
         ‚Üì
[–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è code-review-prompt.txt –∫–∞–∫ system prompt]
         ‚Üì
[–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è RAG]
         ‚Üì
[RAG –∞—É–≥–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π]
         ‚Üì
[GigaChatApiClient –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å tools –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º]
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ LLM –≤—ã–ø–æ–ª–Ω—è–µ—Ç tools —á–µ—Ä–µ–∑ MCP:             ‚îÇ
‚îÇ 1. github_get_pr(url)                      ‚îÇ
‚îÇ 2. github_get_pr_diff(url)                 ‚îÇ
‚îÇ 3. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å RAG –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º            ‚îÇ
‚îÇ 4. github_post_comment(url, review)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
[–†–µ–≤—å—é –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –≤ GitHub]
         ‚Üì
[–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∑–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ —á–∞—Ç–µ]
```

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1. **–î–æ–±–∞–≤–∏—Ç—å GITHUB_TOKEN –≤ `.env`:**
   ```bash
   GITHUB_TOKEN=ghp_your_token_here
   ```

   –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω: https://github.com/settings/tokens
   - –ü—Ä–∞–≤–∞: `repo` (–¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö) –∏–ª–∏ `public_repo` (–¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö)

2. **–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ RAG –±–∞–∑—É:**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å ai-agent
   ./gradlew :ai-agent:run

   # –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (http://localhost:9999)
   # –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –∑–∞–≥—Ä—É–∑–∫–∏:
   - README.md
   - claude.md (coding guidelines)
   - –î—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ docs
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã:**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ MCP —Å–µ—Ä–≤–µ—Ä—ã
   ./gradlew :github-mcp-server:run  # –ü–æ—Ä—Ç 8084
   ./gradlew :git-mcp-server:run     # –ü–æ—Ä—Ç 8083
   # ... –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–µ—Ä—ã

   # –ó–∞–ø—É—Å—Ç–∏—Ç—å ai-agent
   ./gradlew :ai-agent:run           # –ü–æ—Ä—Ç 9999
   ```

### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —á–∞—Ç–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://localhost:9999

–í —á–∞—Ç–µ –Ω–∞–ø–∏—à–∏—Ç–µ:
```
–°–¥–µ–ª–∞–π —Ä–µ–≤—å—é https://github.com/owner/repo/pull/123
```

–∏–ª–∏

```
–ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä–µ–≤—å—é —ç—Ç–æ–≥–æ PR: https://github.com/torvalds/linux/pull/456
```

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ code review
2. –ó–∞–≥—Ä—É–∑–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç
3. –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç RAG
4. –ü–æ–ª—É—á–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ PR —á–µ—Ä–µ–∑ GitHub MCP
5. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç diff —Å —É—á–µ—Ç–æ–º coding guidelines
6. –û–ø—É–±–ª–∏–∫—É–µ—Ç —Ä–µ–≤—å—é –∫–∞–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ PR
7. –ü–æ–∫–∞–∂–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —á–∞—Ç–µ

## –§–æ—Ä–º–∞—Ç —Ä–µ–≤—å—é

–†–µ–≤—å—é –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –≤ GitHub –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```markdown
## ü§ñ AI Code Review

### üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **PR**: #123 - Add new feature
- **–ê–≤—Ç–æ—Ä**: username
- **–ò–∑–º–µ–Ω–µ–Ω–æ —Ñ–∞–π–ª–æ–≤**: 5
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**: +150 / **–£–¥–∞–ª–µ–Ω–æ**: -20

### üìä –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞
–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–≥–ª—è–¥—è—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏, —Å–æ–±–ª—é–¥–µ–Ω—ã coding standards –ø—Ä–æ–µ–∫—Ç–∞.

### ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è
- [ ] **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –í —Ñ–∞–π–ª–µ Service.kt:42 –Ω–µ—Ç try-catch
- [ ] **SQL injection**: –í UserRepository.kt:15 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è string concatenation

### üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –º–µ—Ç–æ–¥ processData()
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Exposed DSL –≤–º–µ—Å—Ç–æ raw SQL

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Template Method Pattern
- –î–æ–±–∞–≤–ª–µ–Ω—ã unit —Ç–µ—Å—Ç—ã
- –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤

### üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
–ù–∞–π–¥–µ–Ω—ã –ø–æ—Ö–æ–∂–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ ApiClient.kt - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–æ–π –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ.

---
*–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–≤—å—é –æ—Ç AI Agent —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RAG –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞*
```

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∞–Ω–∞–ª–∏–∑–∞

LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç PR –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º:

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –ø—Ä–æ–µ–∫—Ç–∞ (–∏–∑ RAG)
- Template Method, DI, SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 2. Coding Standards
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SLF4J logger
- kotlinx.serialization
- –ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å data classes
- –°–æ–≥–ª–∞—à–µ–Ω–∏—è –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- SQL injection, XSS, Command injection
- –£—Ç–µ—á–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- N+1 queries
- –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
- –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 5. –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–∞–ª–∏—á–∏–µ —Ç–µ—Å—Ç–æ–≤
- –ü–æ–∫—Ä—ã—Ç–∏–µ edge cases

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π PR
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –°–¥–µ–ª–∞–π —Ä–µ–≤—å—é https://github.com/myorg/myrepo/pull/42

AI Agent:
1. –ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ PR
2. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç 3 –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞ (+50 -10 —Å—Ç—Ä–æ–∫)
3. –ù–∞—Ö–æ–¥–∏—Ç –≤ RAG –ø–æ—Ö–æ–∂–∏–π –∫–æ–¥
4. –ü—É–±–ª–∏–∫—É–µ—Ç —Ä–µ–≤—å—é —Å 2 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
5. –û—Ç–≤–µ—á–∞–µ—Ç: "–†–µ–≤—å—é –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ! –ù–∞–π–¥–µ–Ω–æ 2 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∫–æ–¥–∞."
```

### –ü—Ä–∏–º–µ—Ä 2: –ë–æ–ª—å—à–æ–π PR
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –°–¥–µ–ª–∞–π —Ä–µ–≤—å—é https://github.com/myorg/myrepo/pull/100

AI Agent:
1. –ü–æ–ª—É—á–∞–µ—Ç diff (1500 —Å—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
2. –£–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ PR —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
3. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–Ω—å—à–∏—Ö PR
4. –í—Å–µ —Ä–∞–≤–Ω–æ –¥–µ–ª–∞–µ—Ç –±–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑
5. –ü—É–±–ª–∏–∫—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è code review

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª: `ai-agent/src/main/resources/code-review-prompt.txt`

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∞–Ω–∞–ª–∏–∑–∞
- –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è LLM

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö GitHub tools

–í `github-mcp-server/src/main/kotlin/mcp_server/`:

1. –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ –≤ `GitHubService.kt`
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ tool –≤ `McpConfiguration.kt`

### RAG –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–î–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ–≤—å—é:

1. –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –≤ RAG:
   - Coding guidelines
   - Architecture decision records
   - Best practices docs
   - –ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–µ–≥–æ –∫–æ–¥–∞

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ reranking:
   ```bash
   USE_RERANKING=true
   HUGGINGFACE_API_KEY=your_key
   ```

## Troubleshooting

### PR —Ä–µ–≤—å—é –Ω–µ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –†–µ–≤—å—é –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ GitHub

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GITHUB_TOKEN –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–æ–∫–µ–Ω –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ `repo`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ GitHub MCP Server

### RAG –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç

**–ü—Ä–æ–±–ª–µ–º–∞**: –†–µ–≤—å—é –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç coding guidelines

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ RAG
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ embeddings.db (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–µ –ø—É—Å—Ç–∞—è)
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã

### LLM –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç tools

**–ü—Ä–æ–±–ª–µ–º–∞**: LLM –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç github_get_pr_diff

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ GitHub MCP Server –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 8084)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ McpToolsService
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ GigaChat –≤–∏–¥–∏—Ç tools (–º–æ–∂–Ω–æ —Å–ø—Ä–æ—Å–∏—Ç—å –≤ —á–∞—Ç–µ: "–ö–∞–∫–∏–µ tools –¥–æ—Å—Ç—É–ø–Ω—ã?")

### Code review —Å–ª–∏—à–∫–æ–º –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–π

**–ü—Ä–æ–±–ª–µ–º–∞**: –†–µ–≤—å—é –Ω–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ RAG –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (–∑–∞–≥—Ä—É–∂–µ–Ω—ã docs)
2. –£–≤–µ–ª–∏—á—å—Ç–µ maxTokens –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
3. –£–ª—É—á—à–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –≤ code-review-prompt.txt

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Rate limits GitHub API**:
   - –° —Ç–æ–∫–µ–Ω–æ–º: 5000 req/hour
   - –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞: 60 req/hour

2. **–†–∞–∑–º–µ—Ä PR**:
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è < 1000 —Å—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –ë–æ–ª—å—à–∏–µ PR –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—Ä–µ–∑–∞–Ω—ã LLM

3. **–°—Ç–æ–∏–º–æ—Å—Ç—å API**:
   - –ö–∞–∂–¥—ã–π code review = 1 –∑–∞–ø—Ä–æ—Å –∫ GigaChat
   - –° –±–æ–ª—å—à–∏–º diff –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤

4. **–ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–≤—å—é**:
   - –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ RAG –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
   - –¢—Ä–µ–±—É–µ—Ç —Ö–æ—Ä–æ—à–µ–≥–æ code-review-prompt.txt

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **GitHub Actions –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –Ω–∞ –∫–∞–∂–¥—ã–π PR
   - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–∞–∫ PR review (–Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)

2. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ä–µ–≤—å—é**:
   - –†–µ–≤—å—é —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ PR

3. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞**:
   - –ó–∞–≥—Ä—É–∑–∫–∞ .eslintrc, .editorconfig –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∏–ª—è
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SonarQube

4. **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞**:
   - –û—Ü–µ–Ω–∫–∞ code quality score
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –∑–∞–º–µ—á–∞–Ω–∏–π

5. **Multi-PR –∞–Ω–∞–ª–∏–∑**:
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ PR
   - –ü–æ–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

## –†–µ–∑—é–º–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ code review –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

‚úÖ GitHub MCP Server —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ code review –∑–∞–ø—Ä–æ—Å–æ–≤
‚úÖ RAG –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ GitHub

–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç–µ: **"–°–¥–µ–ª–∞–π —Ä–µ–≤—å—é https://github.com/owner/repo/pull/123"**
